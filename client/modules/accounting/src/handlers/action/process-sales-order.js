"use strict";var c=(o,i,e)=>new Promise((t,r)=>{var l=s=>{try{a(e.next(s))}catch(n){r(n)}},p=s=>{try{a(e.throw(s))}catch(n){r(n)}},a=s=>s.done?t(s.value):Promise.resolve(s.value).then(l,p);a((e=e.apply(o,i)).next())});define(["action-handler"],o=>class extends o{actionProcessSalesOrder(){return c(this,null,function*(){yield Espo.Ui.confirm(this.view.translate("processSalesOrderConfirmation","confirmation",this.view.model.entityType),{confirmText:this.view.translate("Yes"),cancelText:this.view.translate("Cancel"),confirmStyle:"danger",backdrop:"static",isHtml:!0}),Espo.Ui.notify("Please wait...");try{const e=yield Espo.Ajax.postRequest("ProcessSalesOrder",{id:this.view.model.get("id")},{});Espo.Ui.success(this.view.translate(e.message,"messages",this.view.model.entityType));const t=this.view.getRouter().getLast();this.view.getRouter().dispatch(t.controller,t.action,t.options)}catch(i){const e=JSON.parse(i.response);Espo.Ui.error(this.view.translate(e.message,"messages",this.view.model.entityType))}})}});
