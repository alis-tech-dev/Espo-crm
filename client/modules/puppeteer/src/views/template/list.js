"use strict";var p=(a,i,e)=>new Promise((o,n)=>{var u=r=>{try{s(e.next(r))}catch(c){n(c)}},t=r=>{try{s(e.throw(r))}catch(c){n(c)}},s=r=>r.done?o(r.value):Promise.resolve(r.value).then(u,t);s((e=e.apply(a,i)).next())});define(["views/list"],a=>class extends a{actionCreate(){return p(this,null,function*(){const i=yield this.createView("createModal","puppeteer:views/template/modals/create");this.listenToOnce(i,"create",e=>{i.close(),e=e||{};const o=this.getRouter(),n=`#${this.scope}/create/type=${e.type}`,t={attributes:this.getCreateAttributes()||{}};t.type=e.type,this.keepCurrentRootUrl&&(t.rootUrl=this.getRouter().getCurrentUrl()),e.focusForCreate&&(t.focusForCreate=!0);const s={controller:this.scope,action:null,options:{isReturn:!0}};this.prepareCreateReturnDispatchParams(s),t.returnUrl=this.getRouter().getCurrentUrl(),t.returnDispatchParams=s,o.navigate(n,{trigger:!1}),o.dispatch(this.scope,"create",t)}),yield i.render()})}});
